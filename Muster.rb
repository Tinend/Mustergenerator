#!/usr/bin/ruby
# -*- coding: utf-8 -*-

require "/home/ulrich/ruby/blume2-0/umwandeln.rb"
require "/home/ulrich/ruby/blume2-0/felder/Feld3-0.rb"
require "/home/ulrich/ruby/blume2-0/Farben.rb"
require "/home/ulrich/ruby/blume2-0/Zentrum.rb"

hoehe = 300
breite = 300
verkleinerung = 500
verschiebung = breite / 2.0 + Complex::I * hoehe / 2.0
1.times do
  z = 1000 ** 100
  until rand(1000) == 0
    z *= 10
  end
  zufall = rand(z)
  zufall = 5629552062663067572172372842383858634178519566656999015929050844407804491091009037593680916424866781401828577472227822822465533966903132142253452176468399760710753077152827786747420570378522870363142259013502308305698236799772753531807964363217866794786925520392846615068093081705983091161424808085843590353016741347656175684256682035568191306271647082402802284974776810091815326047866358809082327872124985702375004510793024872235028692316976646636519610139410745900126834877482499708194155306870010063832919724084911791162699083844158083299189944721647671597101872443491805524058599683380788065010362397971316474670869340826131755750905580293484913135647929532519311412998257240334829743424517368951797027994039038393713712240690805046033373336872064339819537188997325944075017299408750560649778865407520632736047980809387297822694938134776094244950017278303395385981748
  p zufall
  zufallsgenerator = Zufall.new(zufall)
  farbpallette = Farbpallette.new(zufallsgenerator)
  feld = Feld.new(zufallsgenerator, hoehe, breite, verkleinerung, verschiebung, farbpallette)
  bewerter = Bewerter.new
  feld.typdarstellen
  bewertung = bewerter.gesammt_bewerten(farbpallette, feld)
  bewertung_alt = feld.bewertung
  puts
  p bewertung
  feld.felderstellen
  puts "Bild speichern"
  nummern = feld.nummern
  farben = Farben.new(nummern.length)
  version = Feld::VERSION
  puts [feld.schoenheit, bewertung]
  dateiname = "/home/ulrich/ruby/blume2-0/bilder/muster#{version}_#{zufall%(10**30)}.xpm"
  
  umwandeln(feld.feld, dateiname, farben, nummern, zufall, bewertung)
end
